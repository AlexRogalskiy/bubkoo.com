language: node_js

node_js:
  - 0.10

install:
  - npm install hexo-cli@0.1.4 -g
  - npm install

before_script:
  - git config --global user.name    "bubkoo"
  - git config --global user.email   "bubkoo@163.com"
  - git config --global push.default simple
  # themes
  - git clone https://github.com/bubkoo/hexo-theme-formula.git themes/formula
  # - git clone https://github.com/bubkoo/hexo-theme-flight.git  themes/flight
  # deploy
  - git clone https://$GH_TOKEN@github.com/bubkoo/bubkoo.github.com.git .deploy_git

script:
  - hexo clean
  - hexo generate
  - make update
  - make deploy

branches:
  only:
    - master

env:
  global:
    secure: i7ljgcx7og/9bSVC+G3DeOG0Hu8FA6MS5aoaqS+iD+yqgFAy+IwUYS2QjuJN+fs4J4m5XQyOT1i6ScbV66YK/K9ymRHoSuKdZiYduWewIBD4SoY06GTBGB9kEEKc8HPoT4V8R9yxkWTwpYK1HVN4asa1B85hDNdvvUo1sTRLnF8=
